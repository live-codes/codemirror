import{EditorView as I}from"@codemirror/view";import{combineConfig as c,Facet as f}from"@codemirror/state";var s=f.define({combine(t){return c(t,{})}});import{EditorView as u}from"@codemirror/view";function m(){let t=!0;return u.updateListener.of(e=>{let r=e.view.state.facet(o);r&&(!e.docChanged&&!t||(t=!1,r.worker.updateFile({path:r.path,code:e.state.doc.toString()})))})}function p(){return async t=>{let e=t.state.facet(o);return e?e.worker.getAutocompletion({path:e.path,context:{pos:t.pos,explicit:t.explicit}}):null}}import{linter as st}from"@codemirror/lint";import{linter as l}from"@codemirror/lint";function g({diagnosticCodesToIgnore:t}={}){return l(async e=>{let r=e.state.facet(o);return r?r.worker.getLints({path:r.path,diagnosticCodesToIgnore:t||[]}):[]})}import{hoverTooltip as yt}from"@codemirror/view";var a=t=>{let e=document.createElement("div");if(t.quickInfo?.displayParts)for(let r of t.quickInfo.displayParts){let n=e.appendChild(document.createElement("span"));n.className=`quick-info-${r.kind}`,n.innerText=r.text}return{dom:e}};import{hoverTooltip as x}from"@codemirror/view";function d({renderTooltip:t=a}={}){return x(async(e,r)=>{let n=e.state.facet(o);if(!n)return null;let i=await n.worker.getHover({path:n.path,pos:r});return i?{pos:i.start,end:i.end,create:()=>t(i,e)}:null})}import{combineConfig as y,Facet as S}from"@codemirror/state";var o=S.define({combine(t){return y(t,{})}});export{p as tsAutocompleteWorker,o as tsFacetWorker,d as tsHoverWorker,g as tsLinterWorker,m as tsSyncWorker};
